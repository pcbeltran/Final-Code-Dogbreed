{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { usersCollection } from \"../data/firebase\";\n\nfunction useAllBreeds(userId, sortField) {\n  _s();\n\n  const [breeds, setBreeds] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  useEffect(() => {\n    setIsLoading(true);\n\n    const onNext = snapshot => {\n      setIsLoading(false);\n      const docs = snapshot.docs;\n      setBreeds(docs);\n    };\n\n    const onError = error => {\n      setIsLoading(false);\n      setErrorMessage(\"There was a problem loading your breed ratings. Please try again.\");\n      console.error(error);\n    };\n\n    const unsubscribe = usersCollection.doc(userId).collection(\"breeds\").orderBy(sortField, \"desc\").onSnapshot(onNext, onError);\n    return unsubscribe;\n  }, [userId, sort]);\n  return [breeds, isLoading, errorMessage];\n}\n\n_s(useAllBreeds, \"AIPeULl4FfNU4Qfu+jD58Rdded0=\");\n\nexport default useAllBreeds;","map":{"version":3,"sources":["/Users/user/Downloads/FA20-CodeSprint-Code-master-19/Code Sprint C/Week 05/movie-app-with-accounts-starter/src/hooks/use-all-breeds.js"],"names":["useState","useEffect","usersCollection","useAllBreeds","userId","sortField","breeds","setBreeds","isLoading","setIsLoading","errorMessage","setErrorMessage","onNext","snapshot","docs","onError","error","console","unsubscribe","doc","collection","orderBy","onSnapshot","sort"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,eAAT,QAAgC,kBAAhC;;AAEA,SAASC,YAAT,CAAsBC,MAAtB,EAA8BC,SAA9B,EAAyC;AAAA;;AACvC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACU,YAAD,EAAeC,eAAf,IAAkCX,QAAQ,CAAC,EAAD,CAAhD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,YAAY,CAAC,IAAD,CAAZ;;AAEA,UAAMG,MAAM,GAAIC,QAAD,IAAc;AAC3BJ,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACA,YAAMK,IAAI,GAAGD,QAAQ,CAACC,IAAtB;AACAP,MAAAA,SAAS,CAACO,IAAD,CAAT;AACD,KAJD;;AAMA,UAAMC,OAAO,GAAIC,KAAD,IAAW;AACzBP,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,MAAAA,eAAe,CAAC,mEAAD,CAAf;AACAM,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD,KAJD;;AAMA,UAAME,WAAW,GAAGhB,eAAe,CAChCiB,GADiB,CACbf,MADa,EAEjBgB,UAFiB,CAEN,QAFM,EAGjBC,OAHiB,CAGThB,SAHS,EAGE,MAHF,EAIjBiB,UAJiB,CAINV,MAJM,EAIEG,OAJF,CAApB;AAMA,WAAOG,WAAP;AACD,GAtBQ,EAsBN,CAACd,MAAD,EAASmB,IAAT,CAtBM,CAAT;AAwBA,SAAO,CAACjB,MAAD,EAASE,SAAT,EAAoBE,YAApB,CAAP;AACD;;GA9BQP,Y;;AAgCT,eAAeA,YAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { usersCollection } from \"../data/firebase\";\n\nfunction useAllBreeds(userId, sortField) {\n  const [breeds, setBreeds] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    const onNext = (snapshot) => {\n      setIsLoading(false);\n      const docs = snapshot.docs;\n      setBreeds(docs);\n    };\n\n    const onError = (error) => {\n      setIsLoading(false);\n      setErrorMessage(\"There was a problem loading your breed ratings. Please try again.\");\n      console.error(error);\n    };\n\n    const unsubscribe = usersCollection\n      .doc(userId)\n      .collection(\"breeds\")\n      .orderBy(sortField, \"desc\")\n      .onSnapshot(onNext, onError);\n\n    return unsubscribe;\n  }, [userId, sort]);\n\n  return [breeds, isLoading, errorMessage];\n}\n\nexport default useAllBreeds;\n"]},"metadata":{},"sourceType":"module"}